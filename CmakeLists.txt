cmake_minimum_required(VERSION 3.10)  
project(EasyEngine)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_INSTALL_PREFIX /usr/local)

project(
    VERSION 1.0 
    LANGUAGES CXX C     
)

find_package(PocketSphinx REQUIRED)
find_package(Pybind11     REQUIRED)
find_package(cJSON        REQUIRED)
find_package(OpenCV       REQUIRED)
find_package(SDL2         REQUIRED)
find_package(Portaudio    REQUIRED)

add_executable(Engine  
    src/engine.cpp 
    src/engine.h
    src/lib/utils.cpp
    src/lib/utils.hpp 
    src/lib/OpenCV.hpp
    src/lib/OpenCV.cpp 
    src/binding.cpp
    src/convert.c
    src/convert.h
)

target_link_libraries(Engine PRIVATE SDL2::SDL_image)
target_link_libraries(Engine PRIVATE SDL2::SDL_gfxPrimitives)
target_link_libraries(Engine PRIVATE SDL2::SDL)
target_link_libraries(Engine PRIVATE Pybind11::Pybind11)
target_link_libraries(Engine PRIVATE cJSON)
target_link_libraries(Engine PRIVATE OpenCV:2:OpenCV)
target_link_libraries(Engine PRIVATE pthread)

include(InstallRequiredSystemLibraries)
set(CPACK_PACKAGE_VERSION_MAJOR 1)
include(CPack)


